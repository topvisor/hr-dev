# Тестовое задание по PHP: Логическое мышление

**Важное замечание**: Задание должно выполняться самостоятельно, без использования искусственного интеллекта (например,
Grok, ChatGPT) или других автоматизированных инструментов. Цель задания — оценить ваши личные навыки программирования,
логического мышления и способность проектировать решения. Использование ИИ для генерации кода, подсказок или идей
недопустимо. В комментариях к коду объясните вашу логику и выбор подхода.

## Уровень: Продвинутый (Advanced)

### Задача: Система планирования встреч с учетом ограничений участников

Спроектируйте и реализуйте систему планирования встреч, которая определяет подходящие временные слоты для встречи,
учитывая доступность участников и их временные ограничения. Каждый участник предоставляет список временных интервалов,
когда он занят, а система должна найти все возможные слоты длительностью не менее заданного времени, когда все участники
свободны.

**Требования:**

- Реализовать класс `Participant` для представления участника встречи:
    - Свойства: идентификатор, имя, список занятых временных интервалов (каждый интервал — начало и конец в формате
      timestamp).
    - Метод для добавления занятого интервала.
- Реализовать класс `MeetingPlanner` с методами:
    - `addParticipant($participant)` — добавление участника.
    - `findAvailableSlots($duration, $startTime, $endTime)` — поиск всех возможных временных слотов длительностью не
      менее `$duration` секунд в заданном диапазоне `[$startTime, $endTime]` (в формате timestamp), когда все участники
      свободны.
- Если подходящих слотов нет, метод `findAvailableSlots` возвращает пустой массив.
- В случае некорректных данных (например, отрицательная длительность, неверный диапазон времени) выбрасывать исключения.
- В комментариях к коду объяснить:
    - Как вы организовали поиск свободных слотов.
    - Почему выбрали этот подход (например, структура данных, алгоритм).
    - Возможные альтернативные подходы и их плюсы/минусы.
- Использовать ООП-принципы (инкапсуляция, четкое разделение ответственности).

**Пример:**

```php
$planner = new MeetingPlanner();

// Создаем участников
$participant1 = new Participant(1, "Иван");
$participant1->addBusyInterval(strtotime("2025-05-07 09:00"), strtotime("2025-05-07 10:00"));
$participant1->addBusyInterval(strtotime("2025-05-07 12:00"), strtotime("2025-05-07 13:00"));

$participant2 = new Participant(2, "Анна");
$participant2->addBusyInterval(strtotime("2025-05-07 10:00"), strtotime("2025-05-07 11:00"));

// Добавляем участников
$planner->addParticipant($participant1);
$planner->addParticipant($participant2);

// Ищем слоты длительностью 1 час (3600 секунд) в диапазоне 7 мая 2025 с 08:00 до 14:00
$startTime = strtotime("2025-05-07 08:00");
$endTime = strtotime("2025-05-07 14:00");
$slots = $planner->findAvailableSlots(3600, $startTime, $endTime);

// Выводим слоты (в человеко-читаемом формате для примера)
foreach ($slots as $slot) {
    echo date("H:i", $slot['start']) . " - " . date("H:i", $slot['end']) . "\n";
}
/*
Ожидаемый вывод:
08:00 - 09:00
11:00 - 12:00
13:00 - 14:00
*/
```

**Ожидаемое решение:**

```php
class Participant {
    private $id;
    private $name;
    private $busyIntervals = [];

    public function __construct(int $id, string $name) {
        $this->id = $id;
        $this->name = $name;
    }

    public function addBusyInterval(int $start, int $end): void {
        // ...
    }

    public function getBusyIntervals(): array {
        // ...
    }

    // ...
}

class MeetingPlanner {
    private $participants = [];

    public function addParticipant(Participant $participant): void {
        // ...
    }

    /**
     * Находит все возможные временные слоты для встречи.
     *
     * Логика:
     * - Описать логику выбранного решения
     *
     * Почему этот подход:
     * - Аргументировать выбранный подход
     *
     * Альтернативы:
     * - Перечислить другие возможные решения, рассказать чем они могут быть лучше
     */
    public function findAvailableSlots(int $duration, int $startTime, int $endTime): array {
        // ...
    }
}
```
